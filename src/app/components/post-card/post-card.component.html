<div
  class="flex flex-col gap-2 justify-between shadow-card rounded p-3 h-[250px] w-[250px]"
>
  <div
    class="post-image relative hover:cursor-pointer hover:transform hover:transition-transform duration-300 w-full h-[150px] overflow-hidden rounded"
  >
    @defer (on viewport) {
    <img
      unpic
      priority
      [src]="post().image"
      alt="{{ post().title }}"
      class="w-full h-full object-cover rounded block"
    />
    } @placeholder {
    <div class="bg-catspace-grey w-full h-full rounded"></div>
    }
    <div
      class="absolute top-0 left-0 w-full h-full bg-catspace-brown/50 flex justify-center items-center opacity-0 hover:opacity-100 transition-opacity duration-300 rounded"
    >
      <p class="text-body-1 text-catspace-white">
        {{ "post.view" | translate }}
      </p>
    </div>
  </div>
  <div class="flex flex-col gap-1">
    <div>
      <p class="subtitle-2 line-clamp-2">{{ post().title }}</p>
    </div>
    <div class="flex justify-between items-center">
      <p class="text-body-2 line-clamp-1">
        {{ favoriteCount() }} {{ "common.favorites" | translate }}
      </p>
      <button
        type="button"
        class="heart-button hover:cursor-pointer bg-transparent border-none p-0 text-catspace-orange hover:text-catspace-dark-orange"
        [disabled]="loading()"
        (click)="toggleFavorite()"
        [attr.aria-label]="
          isFavorited() ? 'Remove from favorites' : 'Add to favorites'
        "
      >
        @if (isFavorited()) {
        <span class="material-icons icon-18">favorite</span>
        } @else {
        <span class="material-icons icon-18">favorite_border</span>
        }
      </button>
    </div>
  </div>
</div>
